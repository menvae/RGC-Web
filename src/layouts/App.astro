---
// App.astro
import Navbar from '../components/Navbar/Navbar.astro';
import Footer from '../components/Footer.astro';
import Progress from '../components/Progress.astro';
export interface Props {
  subtitle?: string;
}

const { subtitle = '' } = Astro.props;
const title = subtitle ? `RGC - ${subtitle}` : 'Rhythm Game Converter';
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.webp" />
		<link rel="stylesheet" href="/css/PageTransitions.css" />
        <link rel="sitemap" href="/sitemap-index.xml" />
		<link href="https://fonts.googleapis.com/css2?family=Averia+Sans+Libre:wght@700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Signika+Negative:wght@300..700&display=swap" rel="stylesheet">
		<meta name="generator" content={Astro.generator} />
        <meta name="description" content="RGC (Rhythm Game Converter) is a web-based app that allows for easily converting rhythm game charts and maps." />
		<title>{title}</title>

        <meta property="og:title" content={title} />
        <meta property="og:description" content="RGC (Rhythm Game Converter) is a web-based app that allows for easily converting rhythm game charts and maps." />
        <meta property="og:image" content="https://o8zeinaus1.ufs.sh/f/ZAifdK74nX6lEQZbmM4Nmpyw2SHUIBCq6xJgo8XshZdkl1P5" />
        <meta property="og:image:width" content="512" />
        <meta property="og:image:height" content="512" />
        <meta property="og:url" content="https://rgconverter.netlify.app" />
	</head>
	<body>
			<Navbar />
            <Progress />
		<main>
			<slot />
		</main>
		<Footer />
	</body>
</html>

<style>
    :root {      
        --navbar-color: #c09924;
        --logo-gradient: linear-gradient(to right, transparent, var(--navbar-color));
        --accent-color: #a08123;
        --accent-highlight: #ffffff20;
        --navbutton-separator-color: #ffd050;
        --footer-accent-color: #36342d;
        --footer-accent-color-lighter: #47453c;
        --background-color: #2a2822;
        --text-color: #f5f5f5;
    }
    
    main {
		font-size: large;
        margin-top: 2rem;
        max-width: 80%;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.3;
    }

    body {
        position: relative;
        overflow-x: hidden;
        font-family: 'Averia Sans Libre', sans-serif;
        color: var(--text-color);
        margin: 0;
        width: 100%;
        height: 100%;
        background-color: var(--background-color);
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('../assets/rgc-background.webp');
        background-size: cover;
        background-position: center;
        background-repeat: repeat;
        background-size: 35rem;
        opacity: 0.2;
        mix-blend-mode: multiply; 
        z-index: -1;
    }

	:global(hr) {
        border: none;
        height: 1px;
        background-color: var(--accent-highlight);
		filter: brightness(2);
        margin: 2rem auto;
        width: 50%;
        position: relative;
        
    }

    nav {
        padding: 1rem;
        background-color: var(--navbar-color);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    footer {
        padding: 1rem;
        text-align: center;
        background-color: var(--footer-accent-color);
        color: var(--text-color);
    }

    :global(a) {
        color: #ffcc00;
        text-decoration: none;
        font-weight: bold;
    }

    a:hover {
        text-decoration: underline;
    }

	@media (max-width: 768px) {
		main {
			font-size: medium;
		}
	}
</style>

<style is:global>
    *::-webkit-scrollbar {
    height: 6px;
    width: 6px;
    }

    *::-webkit-scrollbar-track {
    border-radius: 0px;
    background-color: var(--background-color);
    }

    *::-webkit-scrollbar-thumb {
    border-radius: 0px;

    background-color: var(--navbar-color);
    }

    *::-webkit-scrollbar-thumb:hover {
    background-color: var(--navbutton-separator-color);
    }

    .info {
        padding: 10px;
        background-color: #5aa4c91f;
        color: #77aac4;
        border-left: 5px solid #31708f;
        border-radius: 10px;
        max-width: 70%;
    }

    .warning {
        padding: 10px;
        background-color: #dbc76238;
        color: #d8bd8e;
        border-left: 5px solid #b89861;
        border-radius: 10px;
        max-width: 70%;
    }

    .error {
        padding: 10px;
        background-color: #aa50502d;
        color: #bd6a69;
        border-left: 5px solid #a94442;
        border-radius: 10px;
        max-width: 70%;
    }

    .info::before {
        content: "üí°";
        font-size: 1.2em;
        margin-right: 5px;
        background: #77aac4;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .warning::before {
        content: "‚ö†Ô∏è";
        font-size: 1.2em;
        margin-right: 5px;
    }

    .error::before {
        content: "‚ùå";
        font-size: 1.2em;
        margin-right: 5px;
    }
  </style>

<script lang="ts">
    _DEBUG = false;
</script>
<script is:inline src="/lib/jszip/jszip.min.js" />
<script src="../InternalRouter.ts" />
<script src="./Mania_bg.ts" />
<script src="../core/FileManager.ts" />
<script src="../core/Map.ts" />
